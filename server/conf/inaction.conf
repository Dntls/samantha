samantha.inaction {
  engineType = "RECOMMENDER"
  indexers = [
    {
      name = "loggerBasedIndexer"
      configClass = "org.grouplens.samantha.server.indexer.LoggerBasedIndexerConfig"
    }, {
      name = "inactionTensorFlowFeaturizedJsonInteractionBatch"
      configClass = "org.grouplens.samantha.server.indexer.JsonFileIndexerConfig"
      indexType = "inactionTensorFlowFeaturizedJsonInteractionBatch100"
      filesKey = "files"
      timestampField = "timestamp"
      daoName = "TimeFilteredDAO"
      daoNameKey = "entityDaoName"
      subDaoName = "JsonFileListEntityDAO"
      subDaoConfigKey = "subDaoConfig"
      beginTimeKey = "beginTime"
      endTimeKey = "endTime"
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
      dataSubscribers = []
    }, {
      name = "inactionUserInteractionSequenceTensorFlowBatch"
      configClass = "org.grouplens.samantha.server.tensorflow.TensorFlowBatchIndexerConfig"
      dependedIndexer = "inactionTensorFlowFeaturizedJsonInteractionBatch"
      tensorFlowPredictor = "tensorFlowInteractionPredictor"
      tensorFlowModel = "tensorFlowInteractionPredictorModel"
      batchSize = 32
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
      expandersConfig = [
        {
          expanderClass = "org.grouplens.samantha.server.expander.TruncatingExpander"
          nameAttrs = ["tstamp", "movieId", "rank", "rating", "click", "wishlist"]
          valueAttrs = ["tstamp", "movieId", "rank", "rating", "click", "wishlist"]
          separator = ","
          joiner = ","
          maxStepNum = 2400
          backward = true
        }
      ]
    }, {
      name = "inactionUserMovieDisplay"
      configClass = "org.grouplens.samantha.server.indexer.CSVFileIndexerConfig"
      indexType = "inactionUserMovieDisplay"
      filesKey = "files"
      separatorKey = "separator"
      dataFields = [
        "tstamp", "userId", "sessionId", "pageName", "pageSize", "dwell", "movieId", "rank",
        "click", "rating", "highRate", "lowRate", "trailer", "wishlist", "hover", "stop",
        "reason", "notice", "familiar", "when", "rate", "future", "skip",
      ]
      timestampField = "tstamp"
      daoName = "TimeFilteredDAO"
      daoNameKey = "entityDaoName"
      subDaoName = "CSVFileListEntityDAO"
      subDaoConfigKey = "subDaoConfig"
      beginTimeKey = "beginTime"
      endTimeKey = "endTime"
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
    }, {
      name = "inactionUserMovieRating"
      configClass = "org.grouplens.samantha.server.indexer.CSVFileIndexerConfig"
      indexType = "inactionUserMovieRating"
      filesKey = "files"
      separatorKey = "separator"
      dataFields = ["tstamp", "userId", "movieId", "rating"]
      timestampField = "tstamp"
      daoName = "TimeFilteredDAO"
      daoNameKey = "entityDaoName"
      subDaoName = "CSVFileListEntityDAO"
      subDaoConfigKey = "subDaoConfig"
      beginTimeKey = "beginTime"
      endTimeKey = "endTime"
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
      expandersConfig = [
        {
          expanderClass = "org.grouplens.samantha.server.expander.FieldThresholdFilterExpander"
          filterAttr = "rating"
          minVal = 0.5
        }
      ]
    }, {
      name = "inactionUserMovieRatingWithInaction"
      configClass = "org.grouplens.samantha.server.indexer.CSVFileIndexerConfig"
      indexType = "inactionUserMovieRatingWithInaction"
      filesKey = "files"
      separatorKey = "separator"
      dataFields = ["tstamp", "userId", "movieId", "rating", "inactionClass"]
      timestampField = "tstamp"
      daoName = "TimeFilteredDAO"
      daoNameKey = "entityDaoName"
      subDaoName = "CSVFileListEntityDAO"
      subDaoConfigKey = "subDaoConfig"
      beginTimeKey = "beginTime"
      endTimeKey = "endTime"
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
      expandersConfig = [
        {
          expanderClass = "org.grouplens.samantha.server.expander.FieldThresholdFilterExpander"
          filterAttr = "rating"
          minVal = 0.5
        }
      ]
    }, {
      name = "inactionUserMovieRated"
      configClass = "org.grouplens.samantha.server.indexer.CSVFileIndexerConfig"
      indexType = "inactionUserMovieRated"
      filesKey = "files"
      separatorKey = "separator"
      dataFields = ["tstamp", "userId", "movieId", "rated"]
      timestampField = "tstamp"
      daoName = "TimeFilteredDAO"
      daoNameKey = "entityDaoName"
      subDaoName = "CSVFileListEntityDAO"
      subDaoConfigKey = "subDaoConfig"
      beginTimeKey = "beginTime"
      endTimeKey = "endTime"
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
      expandersConfig = [
        {
          expanderClass = "org.grouplens.samantha.server.expander.LogicalExpander"
          sourceAttrs = ["rating"]
          valueAttr = "rated"
          separator = ","
          joiner = ","
          or = true
        }
      ]
    }, {
      name = "inactionGroupedUserMovieDisplay"
      configClass = "org.grouplens.samantha.server.indexer.GroupedIndexerConfig"
      dependedIndexer = "userMovieDisplay"
      filesKey = "files"
      separatorKey = "separator"
      dataFields = [
        "tstamp", "userId", "sessionId", "pageName", "pageSize", "dwell", "movieId", "rank",
        "click", "rating", "highRate", "lowRate", "trailer", "wishlist", "hover", "stop",
        "reason", "notice", "familiar", "when", "rate", "future", "skip",
      ]
      daoName = "CSVFileListEntityDAO"
      daoNameKey = "entityDaoName"
      groupKeys = ["userId"]
      orderFields = ["tstamp", "rank"]
      orderFieldsTypes = ["INT", "INT"]
      numBuckets = 500
      skip = true
      separator = "\t"
      dataDir = ${samantha.dataDir}"/inactionGroupedUserMovieDisplay"
      dataDirKey = "dataDir"
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
    }, {
      name = "inactionUserMovieDisplaySequence"
      configClass = "org.grouplens.samantha.server.tensorflow.UserSequenceIndexerConfig"
      dependedIndexer = "groupedUserMovieDisplay"
      groupKeys = ["userId"]
      otherDataFields = [
        "tstamp", "sessionId", "pageName", "pageSize", "dwell", "movieId", "rank",
        "click", "rating", "highRate", "lowRate", "trailer", "wishlist", "hover", "stop",
        "reason", "notice", "familiar", "when", "rate", "future", "skip",
      ]
      filesKey = "files"
      filePath = ${samantha.dataDir}"/inactionUserMovieDisplaySequence.tsv"
      filePathKey = "filePath"
      separatorKey = "separator"
      daoName = "CSVFileListEntityDAO"
      daoNameKey = "entityDaoName"
      separator = "\t"
      innerFieldSeparator = ","
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
    }, {
      name = "inactionUserMovieSurvey"
      configClass = "org.grouplens.samantha.server.indexer.CSVFileIndexerConfig"
      indexType = "inactionUserMovieSurvey_lr10.0"
      timestampField = "tstamp"
      filesKey = "files"
      separatorKey = "separator"
      partDataFields = [
        "noticeSur", "whenSur", "reasonSur", "futureSur", "inactionSur", "skipSur", "detailInactionSur", "rateSur", "familiarSur", "actionPage", "predRateMeanBeforePage", "predClickMeanBeforePage", "namePage", "predRatingMedianBeforePage", "medianSimPage", "minSimPage", "ratingPage", "negativeRatePage", "wishlistRatePage", "closestRowPage", "predWishlistMinBeforePage",
        "predRatingBeforePage", "predRatingMeanBeforePage", "sizePage", "positiveRatePage", "clickRatePage", "closestColPage", "closestActionPage", "predClickBeforePage", "predRatingMaxBeforePage", "wishlistPage", "predRateMedianBeforePage", "lowRateRatePage", "stopRatePage", "stopPage", "predRateBeforePage",
        "negativePage", "predClickMedianBeforePage", "highRateRatePage", "closestSimPage", "ratingRatePage", "lowRatePage", "colPage", "dwellPage", "predWishlistMeanBeforePage", "hoverRatePage", "clickPage", "highRatePage", "closestInvDistPage", 
        "maxSimPage", "predRateMinBeforePage", "actionRatePage", "rowPage", "predRateMaxBeforePage", "predWishlistMaxBeforePage", "hoverPage", "positivePage", "meanSimPage", "predClickMinBeforePage", "predWishlistMedianBeforePage",
        "predWishlistBeforePage", "predRatingMinBeforePage", "predClickMaxBeforePage", "tstamp", "movieId", "hoverSess", "dwellPrevShowSess", "clickRateSess", "numShowSess", "stopRateSess", "highRateRateSess", "numReviewSess", "numFrontShowSess", "lowRateSess", "actionSess", "highRateSess", "numExploreShowSess", "numReviewOutSess", "wishlistRateSess", "sizePrevShowSess",
        "meanNumItemSess", "negativeRateSess", "ratingRateSess", "colPrevShowSess", "ratingSess", "negativeSess", "numFrontShowOutSess", "stopSess", "invReviewDistOutSess", "namePrevShowSess", "lengthSess", "rowPrevShowSess", "actionRateSess", "numExploreShowOutSess", "numShowOutSess", "wishlistSess", "invReviewDistSess", "lowRateRateSess", "positiveRateSess", "hoverRateSess", "clickSess", "numItemSess", "positiveSess", "actionHist", "highRateHist", "numItemHist",
        "hoverHist", "hoverRateHist", "meanNumItemHist", "lengthHist", "negativeHist", "stopHist", "positiveHist", "highRateRateHist", "ratingHist", "ratingRateHist", "negativeRateHist", "numShowHist", "actionRateHist", "wishlistRateHist", "numFrontShowHist", "wishlistHist", "positiveRateHist", "numReviewHist", "lowRateRateHist", "invReviewDistHist", "stopRateHist", "lowRateHist", "clickRateHist", "clickHist", "numExploreShowHist", "userId", "colPrev", "dwellPrev", "rowPrev",
        "namePrev", "sizePrev", "releaseYearItem", "actionItem", "popularityItem", "hoverItem",
      ]
      dataFields = [
        "noticeSur", "whenSur", "reasonSur", "futureSur", "inactionSur", "skipSur", "detailInactionSur", "rateSur", "familiarSur", "actionPage",
        "predDisplayClosestBeforePage", "predRatingClosestBeforePage", "predRateClosestBeforePage", "predClickClosestBeforePage", "predWishlistClosestBeforePage",
        "predDisplayClosestAfterPage", "predRatingClosestAfterPage", "predRateClosestAfterPage", "predClickClosestAfterPage", "predWishlistClosestAfterPage",
        "predRateMeanBeforePage", "predClickMeanBeforePage", "namePage", "predRatingMedianBeforePage", "predRateAfterPage", "predRatingMinAfterPage", "medianSimPage", "predClickMedianAfterPage", "minSimPage", "predWishlistAfterPage", "ratingPage", "negativeRatePage", "wishlistRatePage", "predRatingAfterPage", "closestRowPage", "predWishlistMinBeforePage",
        "predRateMeanAfterPage", "predRatingBeforePage", "predDisplayBeforePage", "predRatingMeanBeforePage", "sizePage", "positiveRatePage", "predClickMinAfterPage", "clickRatePage", "closestColPage", "closestActionPage", "predDisplayMaxAfterPage", "predClickBeforePage", "predRatingMaxBeforePage", "wishlistPage", "predWishlistMedianAfterPage", "predRateMedianBeforePage", "lowRateRatePage", "predDisplayMinBeforePage", "stopRatePage", "stopPage", "predRateBeforePage",
        "negativePage", "predWishlistMeanAfterPage", "predClickMedianBeforePage", "highRateRatePage", "closestSimPage", "ratingRatePage", "predClickMeanAfterPage", "lowRatePage", "colPage", "predDisplayMaxBeforePage", "dwellPage", "predClickMaxAfterPage", "predRatingMedianAfterPage", "predWishlistMeanBeforePage", "hoverRatePage", "clickPage", "stateBeforePage", "highRatePage", "closestInvDistPage", "predRatingMeanAfterPage", "predWishlistMaxAfterPage",
        "maxSimPage", "predRateMinBeforePage", "actionRatePage", "rowPage", "predDisplayMedianBeforePage", "predRateMaxBeforePage", "predWishlistMaxBeforePage", "hoverPage", "predDisplayMeanBeforePage", "stateAfterPage", "positivePage", "meanSimPage", "predRatingMaxAfterPage", "predWishlistMinAfterPage", "predRateMedianAfterPage", "predDisplayMedianAfterPage", "predDisplayMinAfterPage", "predClickMinBeforePage", "predClickAfterPage", "predWishlistMedianBeforePage",
        "predWishlistBeforePage", "predDisplayAfterPage", "predRatingMinBeforePage", "predDisplayMeanAfterPage", "predClickMaxBeforePage", "predRateMaxAfterPage", "predRateMinAfterPage", "tstamp", "movieId", "hoverSess", "dwellPrevShowSess", "clickRateSess", "numShowSess", "stopRateSess", "highRateRateSess", "numReviewSess", "numFrontShowSess", "lowRateSess", "actionSess", "highRateSess", "numExploreShowSess", "numReviewOutSess", "wishlistRateSess", "sizePrevShowSess",
        "meanNumItemSess", "negativeRateSess", "ratingRateSess", "colPrevShowSess", "ratingSess", "negativeSess", "numFrontShowOutSess", "stopSess", "invReviewDistOutSess", "namePrevShowSess", "lengthSess", "rowPrevShowSess", "actionRateSess", "numExploreShowOutSess", "numShowOutSess", "wishlistSess", "invReviewDistSess", "lowRateRateSess", "positiveRateSess", "hoverRateSess", "clickSess", "numItemSess", "positiveSess", "actionHist", "highRateHist", "numItemHist",
        "hoverHist", "hoverRateHist", "meanNumItemHist", "lengthHist", "negativeHist", "stopHist", "positiveHist", "highRateRateHist", "ratingHist", "ratingRateHist", "negativeRateHist", "numShowHist", "actionRateHist", "wishlistRateHist", "numFrontShowHist", "wishlistHist", "positiveRateHist", "numReviewHist", "lowRateRateHist", "invReviewDistHist", "stopRateHist", "lowRateHist", "clickRateHist", "clickHist", "numExploreShowHist", "userId", "colPrev", "dwellPrev", "rowPrev",
        "namePrev", "sizePrev", "releaseYearItem", "actionItem", "popularityItem", "hoverItem",
        "state0BeforePage", "state1BeforePage", "state2BeforePage", "state3BeforePage", "state4BeforePage", "state5BeforePage", "state6BeforePage", "state7BeforePage", "state8BeforePage", "state9BeforePage", "state10BeforePage", "state11BeforePage", "state12BeforePage", "state13BeforePage", "state14BeforePage", "state15BeforePage", "state16BeforePage", "state17BeforePage", "state18BeforePage", "state19BeforePage", "state20BeforePage", "state21BeforePage", "state22BeforePage", "state23BeforePage", "state24BeforePage", "state25BeforePage", "state26BeforePage", "state27BeforePage", "state28BeforePage", "state29BeforePage", "state30BeforePage", "state31BeforePage",
        "state0AfterPage", "state1AfterPage", "state2AfterPage", "state3AfterPage", "state4AfterPage", "state5AfterPage", "state6AfterPage", "state7AfterPage", "state8AfterPage", "state9AfterPage", "state10AfterPage", "state11AfterPage", "state12AfterPage", "state13AfterPage", "state14AfterPage", "state15AfterPage", "state16AfterPage", "state17AfterPage", "state18AfterPage", "state19AfterPage", "state20AfterPage", "state21AfterPage", "state22AfterPage", "state23AfterPage", "state24AfterPage", "state25AfterPage", "state26AfterPage", "state27AfterPage", "state28AfterPage", "state29AfterPage", "state30AfterPage", "state31AfterPage",
        "ratingWeights", "rateWeights", "displayWeights", "clickWeights", "wishlistWeights",
        "ratingWeight0", "ratingWeight1", "ratingWeight2", "ratingWeight3", "ratingWeight4", "ratingWeight5", "ratingWeight6", "ratingWeight7", "ratingWeight8", "ratingWeight9", "ratingWeight10", "ratingWeight11", "ratingWeight12", "ratingWeight13", "ratingWeight14", "ratingWeight15", "ratingWeight16", "ratingWeight17", "ratingWeight18", "ratingWeight19", "ratingWeight20", "ratingWeight21", "ratingWeight22", "ratingWeight23", "ratingWeight24", "ratingWeight25", "ratingWeight26", "ratingWeight27", "ratingWeight28", "ratingWeight29", "ratingWeight30", "ratingWeight31",
        "rateWeight0", "rateWeight1", "rateWeight2", "rateWeight3", "rateWeight4", "rateWeight5", "rateWeight6", "rateWeight7", "rateWeight8", "rateWeight9", "rateWeight10", "rateWeight11", "rateWeight12", "rateWeight13", "rateWeight14", "rateWeight15", "rateWeight16", "rateWeight17", "rateWeight18", "rateWeight19", "rateWeight20", "rateWeight21", "rateWeight22", "rateWeight23", "rateWeight24", "rateWeight25", "rateWeight26", "rateWeight27", "rateWeight28", "rateWeight29", "rateWeight30", "rateWeight31",
        "displayWeight0", "displayWeight1", "displayWeight2", "displayWeight3", "displayWeight4", "displayWeight5", "displayWeight6", "displayWeight7", "displayWeight8", "displayWeight9", "displayWeight10", "displayWeight11", "displayWeight12", "displayWeight13", "displayWeight14", "displayWeight15", "displayWeight16", "displayWeight17", "displayWeight18", "displayWeight19", "displayWeight20", "displayWeight21", "displayWeight22", "displayWeight23", "displayWeight24", "displayWeight25", "displayWeight26", "displayWeight27", "displayWeight28", "displayWeight29", "displayWeight30", "displayWeight31",
        "clickWeight0", "clickWeight1", "clickWeight2", "clickWeight3", "clickWeight4", "clickWeight5", "clickWeight6", "clickWeight7", "clickWeight8", "clickWeight9", "clickWeight10", "clickWeight11", "clickWeight12", "clickWeight13", "clickWeight14", "clickWeight15", "clickWeight16", "clickWeight17", "clickWeight18", "clickWeight19", "clickWeight20", "clickWeight21", "clickWeight22", "clickWeight23", "clickWeight24", "clickWeight25", "clickWeight26", "clickWeight27", "clickWeight28", "clickWeight29", "clickWeight30", "clickWeight31",
        "wishlistWeight0", "wishlistWeight1", "wishlistWeight2", "wishlistWeight3", "wishlistWeight4", "wishlistWeight5", "wishlistWeight6", "wishlistWeight7", "wishlistWeight8", "wishlistWeight9", "wishlistWeight10", "wishlistWeight11", "wishlistWeight12", "wishlistWeight13", "wishlistWeight14", "wishlistWeight15", "wishlistWeight16", "wishlistWeight17", "wishlistWeight18", "wishlistWeight19", "wishlistWeight20", "wishlistWeight21", "wishlistWeight22", "wishlistWeight23", "wishlistWeight24", "wishlistWeight25", "wishlistWeight26", "wishlistWeight27", "wishlistWeight28", "wishlistWeight29", "wishlistWeight30", "wishlistWeight31",
      ]
      daoName = "TimeFilteredDAO"
      daoNameKey = "entityDaoName"
      subDaoName = "CSVFileListEntityDAO"
      subDaoConfigKey = "subDaoConfig"
      beginTimeKey = "beginTime"
      endTimeKey = "endTime"
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
      expandersConfig = [
        {
          expanderClass = "org.grouplens.samantha.server.expander.LogicalExpander"
          sourceAttrs = ["click", "highRate", "trailer", "wishlist"]
          valueAttr = "positive"
          separator = ","
          joiner = ","
          or = true
        }, {
          expanderClass = "org.grouplens.samantha.server.expander.LogicalExpander"
          sourceAttrs = ["stop", "lowRate"]
          valueAttr = "negative"
          separator = ","
          joiner = ","
          or = true
        }, {
          expanderClass = "org.grouplens.samantha.server.expander.LogicalExpander"
          sourceAttrs = ["click", "highRate", "trailer", "wishlist", "stop", "lowRate"]
          valueAttr = "action"
          separator = ","
          joiner = ","
          or = true
        }, {
          expanderClass = "org.grouplens.samantha.server.inaction.LabelExpander"
          labelAttr = "reason"
          excludedLabels = ["NoPop"]
          backward = false
        }
      ]
    }, {
      name = "inactionUserMovieSurveyWithInactionPrediction"
      configClass = "org.grouplens.samantha.server.indexer.CSVFileIndexerConfig"
      indexType = "inactionUserMovieSurveyWithInactionPrediction"
      dataFields = ["inactionSur", "scores", "tstamp"]
      timestampField = "timestamp"
      filesKey = "files"
      separatorKey = "separator"
      daoName = "TimeFilteredDAO"
      daoNameKey = "entityDaoName"
      subDaoName = "CSVFileListEntityDAO"
      subDaoConfigKey = "subDaoConfig"
      beginTimeKey = "beginTime"
      endTimeKey = "endTime"
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
      expandersConfig = [
        {
          expanderClass = "org.grouplens.samantha.server.expander.PredictorBasedExpander"
          predictorName = "inactionXGBoostPredictor"
          scoreAttr = "score"
          scoresAttr = "scores"
        }, {
          expanderClass = "org.grouplens.samantha.server.expander.FieldThresholdFilterExpander"
          filterAttr = "numItemHist"
          minVal = 0.0
        }
      ]
    }, {
      name = "inactionUserMovieActionWithInactionTrain"
      configClass = "org.grouplens.samantha.server.indexer.CSVFileIndexerConfig"
      indexType = "inactionUserMovieActionWithInactionTrain"
      timestampField = "tstamp"
      filesKey = "files"
      separatorKey = "separator"
      dataFields = [
        "tstamp", "userId", "movieId", "inactionClass", "sessionId",
        "prevTstamp", "prevSessionId", "prevAction",
        "positive", "rating", "click", "wishlist", "action", "highRate", "lowRate", "stop",
      ]
      daoName = "TimeFilteredDAO"
      daoNameKey = "entityDaoName"
      subDaoName = "CSVFileListEntityDAO"
      subDaoConfigKey = "subDaoConfig"
      beginTimeKey = "beginTime"
      endTimeKey = "endTime"
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
      expandersConfig = [
        {
          expanderClass = "org.grouplens.samantha.server.expander.LogicalExpander"
          sourceAttrs = ["click", "highRate", "trailer", "wishlist"]
          valueAttr = "positive"
          separator = ","
          joiner = ","
          or = true
        }, {
          expanderClass = "org.grouplens.samantha.server.expander.LogicalExpander"
          sourceAttrs = ["stop", "lowRate"]
          valueAttr = "negative"
          separator = ","
          joiner = ","
          or = true
        }, {
          expanderClass = "org.grouplens.samantha.server.expander.LogicalExpander"
          sourceAttrs = ["click", "highRate", "trailer", "wishlist", "stop", "lowRate"]
          valueAttr = "action"
          separator = ","
          joiner = ","
          or = true
        }, {
          expanderClass = "org.grouplens.samantha.server.inaction.SequenceInferenceExpander"
          nameAttrs = [
            "tstamp", "sessionId", "pageName", "pageSize", "dwell", "movieId", "rank",
            "click", "rating", "highRate", "lowRate", "trailer", "wishlist", "hover", "stop",
            "positive", "negative", "action",
          ]
          valueAttrs = [
            "tstamp", "sessionId", "pageName", "pageSize", "dwell", "movieId", "rank",
            "click", "rating", "highRate", "lowRate", "trailer", "wishlist", "hover", "stop",
            "positive", "negative", "action",
          ]
          historyAttrs = [
            "tstamps", "sessionIds", "pageNames", "pageSizes", "dwells", "movieIds", "ranks",
            "clicks", "ratings", "highRates", "lowRates", "trailers", "wishlists", "hovers", "stops",
            "positives", "negatives", "actions",
          ]
          separator = ","
          joiner = ","
          tstampAttr = "tstamp"
          splitTstamp = 1517464800 #2018-02-01
          maxStepNum = 240
          backward = true
          predictorName = "inactionXGBoostPredictor"
          modelName = "inactionXGBoostPredictorModel"
          labelAttr = "inactionClass"
          numClass = 7
        }
      ]
    }, {
      name = "inactionUserMovieActionWithInactionEval"
      configClass = "org.grouplens.samantha.server.indexer.CSVFileIndexerConfig"
      indexType = "inactionUserMovieActionWithInactionEval"
      timestampField = "tstamp"
      filesKey = "files"
      separatorKey = "separator"
      dataFields = [
        "tstamp", "userId", "movieId", "inactionClass", "sessionId",
        "prevTstamp", "prevSessionId", "prevAction",
        "positive", "rating", "click", "wishlist", "action", "highRate", "lowRate", "stop",
      ]
      daoName = "TimeFilteredDAO"
      daoNameKey = "entityDaoName"
      subDaoName = "CSVFileListEntityDAO"
      subDaoConfigKey = "subDaoConfig"
      beginTimeKey = "beginTime"
      endTimeKey = "endTime"
      daoConfigKey = "daoConfig"
      entityDaosConfig = ${samantha.entityDaosConfig}
      expandersConfig = [
        {
          expanderClass = "org.grouplens.samantha.server.expander.LogicalExpander"
          sourceAttrs = ["click", "highRate", "trailer", "wishlist"]
          valueAttr = "positive"
          separator = ","
          joiner = ","
          or = true
        }, {
          expanderClass = "org.grouplens.samantha.server.expander.LogicalExpander"
          sourceAttrs = ["stop", "lowRate"]
          valueAttr = "negative"
          separator = ","
          joiner = ","
          or = true
        }, {
          expanderClass = "org.grouplens.samantha.server.expander.LogicalExpander"
          sourceAttrs = ["click", "highRate", "trailer", "wishlist", "stop", "lowRate"]
          valueAttr = "action"
          separator = ","
          joiner = ","
          or = true
        }, {
          expanderClass = "org.grouplens.samantha.server.inaction.SequenceInferenceExpander"
          nameAttrs = [
            "tstamp", "sessionId", "pageName", "pageSize", "dwell", "movieId", "rank",
            "click", "rating", "highRate", "lowRate", "trailer", "wishlist", "hover", "stop",
            "positive", "negative", "action",
          ]
          valueAttrs = [
            "tstamp", "sessionId", "pageName", "pageSize", "dwell", "movieId", "rank",
            "click", "rating", "highRate", "lowRate", "trailer", "wishlist", "hover", "stop",
            "positive", "negative", "action",
          ]
          historyAttrs = [
            "tstamps", "sessionIds", "pageNames", "pageSizes", "dwells", "movieIds", "ranks",
            "clicks", "ratings", "highRates", "lowRates", "trailers", "wishlists", "hovers", "stops",
            "positives", "negatives", "actions",
          ]
          separator = ","
          joiner = ","
          tstampAttr = "tstamp"
          splitTstamp = 1517464800 #2018-02-01
          maxStepNum = 24
          backward = false
          predictorName = "inactionXGBoostPredictor"
          modelName = "inactionXGBoostPredictorModel"
          labelAttr = "inactionClass"
          numClass = 7
        }
      ]
    }
  ]
  retrievers = [
    {
      name = "inactionXGBoostClassifierRetriever"
      configClass = "org.grouplens.samantha.xgboost.XGBoostClassifierRetrieverConfig"
      predictorName = "inactionXGBoostPredictor"
      modelName = "inactionXGBoostPredictorModel"
    }
  ]
  predictors = [
    {
      name = "inactionRatingFMPredictor"
      configClass = "org.grouplens.samantha.server.predictor.SVDFeaturePredictorConfig"
      modelName = "inactionRatingFMPredictorModel"
      modelFile = ${samantha.modelDir}"/inactionRatingFMPredictorModel.bin"
      labelName = "rating"
      weightName = "weight"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "daoConfig"
      featurizer {
        featureExtractorList = [
          {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "BIASES"
            attrName = "userId"
            feaName = "userBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "BIASES"
            feaName = "movieBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "FACTORS"
            attrName = "userId"
            feaName = "userFactor"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "FACTORS"
            feaName = "movieFactor"
          }
        ]
      }
      objectiveConfig {
        objectiveClass = "org.grouplens.samantha.server.objective.L2NormLossConfig"
      }
      onlineOptimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.StochasticGradientDescentConfig"
        maxIter = 1
        learningRate = 0.01
      }
      optimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.AsyncParallelSGDConfig"
        maxIter = 20
        learningRate = 0.01
        cachePath = ${samantha.dataDir}
        numProcessors = 8
      }
      factDim = 32
      biasFeas = ["globalBias", "userBias", "movieBias"]
      ufactFeas = ["userFactor"]
      ifactFeas = ["movieFactor"]
    }, {
      name = "inactionRatedFMPredictor"
      configClass = "org.grouplens.samantha.server.predictor.SVDFeaturePredictorConfig"
      modelName = "inactionRatedFMPredictorModel"
      modelFile = ${samantha.modelDir}"/inactionRatedFMPredictorModel.bin"
      labelName = "rated"
      weightName = "weight"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "daoConfig"
      featurizer {
        featureExtractorList = [
          {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "BIASES"
            attrName = "userId"
            feaName = "userBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "BIASES"
            feaName = "movieBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "FACTORS"
            attrName = "userId"
            feaName = "userFactor"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "FACTORS"
            feaName = "movieFactor"
          }
        ]
      }
      objectiveConfig {
        objectiveClass = "org.grouplens.samantha.server.objective.LogisticLossConfig"
      }
      onlineOptimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.StochasticGradientDescentConfig"
        maxIter = 1
        learningRate = 0.01
      }
      optimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.AsyncParallelSGDConfig"
        maxIter = 20
        learningRate = 0.01
        cachePath = ${samantha.dataDir}
        numProcessors = 8
      }
      factDim = 32
      biasFeas = ["globalBias", "userBias", "movieBias"]
      ufactFeas = ["userFactor"]
      ifactFeas = ["movieFactor"]
    }, {
      name = "inactionClickFMPredictor"
      configClass = "org.grouplens.samantha.server.predictor.SVDFeaturePredictorConfig"
      modelName = "inactionClickFMPredictorModel"
      modelFile = ${samantha.modelDir}"/inactionClickFMPredictorModel.bin"
      labelName = "click"
      weightName = "weight"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "daoConfig"
      featurizer {
        featureExtractorList = [
          {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "BIASES"
            attrName = "userId"
            feaName = "userBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "BIASES"
            feaName = "movieBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "FACTORS"
            attrName = "userId"
            feaName = "userFactor"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "FACTORS"
            feaName = "movieFactor"
          }
        ]
      }
      objectiveConfig {
        objectiveClass = "org.grouplens.samantha.server.objective.LogisticLossConfig"
      }
      onlineOptimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.StochasticGradientDescentConfig"
        maxIter = 1
        learningRate = 0.01
      }
      optimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.AsyncParallelSGDConfig"
        maxIter = 20
        learningRate = 0.01
        cachePath = ${samantha.dataDir}
        numProcessors = 4
      }
      factDim = 32
      biasFeas = ["globalBias", "userBias", "movieBias"]
      ufactFeas = ["userFactor"]
      ifactFeas = ["movieFactor"]
    }, {
      name = "inactionWishlistFMPredictor"
      configClass = "org.grouplens.samantha.server.predictor.SVDFeaturePredictorConfig"
      modelName = "inactionWishlistFMPredictorModel"
      modelFile = ${samantha.modelDir}"/inactionWishlistFMPredictorModel.bin"
      labelName = "wishlist"
      weightName = "weight"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "daoConfig"
      featurizer {
        featureExtractorList = [
          {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "BIASES"
            attrName = "userId"
            feaName = "userBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "BIASES"
            feaName = "movieBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "FACTORS"
            attrName = "userId"
            feaName = "userFactor"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "FACTORS"
            feaName = "movieFactor"
          }
        ]
      }
      objectiveConfig {
        objectiveClass = "org.grouplens.samantha.server.objective.LogisticLossConfig"
      }
      onlineOptimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.StochasticGradientDescentConfig"
        maxIter = 1
        learningRate = 0.01
      }
      optimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.AsyncParallelSGDConfig"
        maxIter = 20
        learningRate = 0.01
        cachePath = ${samantha.dataDir}
        numProcessors = 4
      }
      factDim = 32
      biasFeas = ["globalBias", "userBias", "movieBias"]
      ufactFeas = ["userFactor"]
      ifactFeas = ["movieFactor"]
    }, {
      name = "inactionXGBoostPredictor"
      configClass = "org.grouplens.samantha.xgboost.XGBoostPredictorConfig"
      modelName = "inactionXGBoostPredictorModel"
      modelFile = ${samantha.modelDir}"/inactionXGBoostPredictorModel.bin"
      labelName = "inactionClass"
      weightName = "weight"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "daoConfig"
      expandersConfig = [
        {
          expanderClass = "org.grouplens.samantha.server.inaction.InactionExpander"
          labelAttr = "inactionSur"
          includedLabels = [
            "NotNoticed", "Watched", 
            "DecidedToWatch", "ExploreLater", "OthersBetter", "NotNow", "WouldNotEnjoy",
          ]
        }, {
          expanderClass = "org.grouplens.samantha.server.expander.FieldThresholdFilterExpander"
          filterAttr = "numItemHist"
          minVal = 0.0
        }
      ]
      featurizer {
        featureExtractorList = [
          {
            extractorConfigClass = "org.grouplens.samantha.server.inaction.TreeFeatureExtractorConfig"
            labelAttr = "inactionSur"
            labelClass = "inactionClass"
          }
        ]
      }
      rawAllNumFeatures = [
        "closestSimPage", "meanSimPage", "minSimPage", "maxSimPage", "medianSimPage",
        "ratingWeights", "rateWeights", "displayWeights", "clickWeights", "wishlistWeights",
        "stateBeforePage", "stateAfterPage",
        "predDisplayBeforePage", "predDisplayMeanBeforePage", "predDisplayMinBeforePage", "predDisplayMaxBeforePage", "predDisplayMedianBeforePage",
        "predRateBeforePage", "predRateMeanBeforePage", "predRateMinBeforePage", "predRateMaxBeforePage", "predRateMedianBeforePage",
        "predWishlistBeforePage", "predWishlistMeanBeforePage", "predWishlistMinBeforePage", "predWishlistMaxBeforePage", "predWishlistMedianBeforePage",
        "predClickBeforePage", "predClickMeanBeforePage", "predClickMinBeforePage", "predClickMaxBeforePage", "predClickMedianBeforePage",
        "predRatingBeforePage", "predRatingMeanBeforePage", "predRatingMinBeforePage", "predRatingMaxBeforePage", "predRatingMedianBeforePage",
        "predDisplayAfterPage", "predDisplayMeanAfterPage", "predDisplayMinAfterPage", "predDisplayMaxAfterPage", "predDisplayMedianAfterPage",
        "predRateAfterPage", "predRateMeanAfterPage", "predRateMinAfterPage", "predRateMaxAfterPage", "predRateMedianAfterPage",
        "predWishlistAfterPage", "predWishlistMeanAfterPage", "predWishlistMinAfterPage", "predWishlistMaxAfterPage", "predWishlistMedianAfterPage",
        "predClickAfterPage", "predClickMeanAfterPage", "predClickMinAfterPage", "predClickMaxAfterPage", "predClickMedianAfterPage",
        "predRatingAfterPage", "predRatingMeanAfterPage", "predRatingMinAfterPage", "predRatingMaxAfterPage", "predRatingMedianAfterPage",

        "actionPage", "lowRatePage", "colPage", "dwellPage", "ratingPage", "negativeRatePage", "hoverRatePage", "highRatePage", "closestInvDistPage", "wishlistRatePage", "positiveRatePage", "actionRatePage", "closestRowPage", "rowPage", "clickPage", "hoverPage", "sizePage", "clickRatePage", "positivePage", "closestColPage", "wishlistPage", "lowRateRatePage", "stopRatePage", "stopPage", "highRateRatePage", "negativePage", "ratingRatePage", 
        "numFrontShowOutSess", "stopSess", "clickSess", "invReviewDistOutSess", "dwellPrevShowSess", "clickRateSess", "lengthSess", "numShowSess", "stopRateSess", "namePrevShowSess", "highRateRateSess", "numReviewSess", "hoverSess", "lowRateSess", "rowPrevShowSess", "numFrontShowSess", "actionRateSess", "numExploreShowOutSess", "actionSess", "numShowOutSess", "wishlistSess", "invReviewDistSess", "highRateSess", "lowRateRateSess", "numExploreShowSess", "numReviewOutSess", "wishlistRateSess",
        "ratingRateSess", "positiveRateSess", "sizePrevShowSess", "hoverRateSess", "meanNumItemSess", "numItemSess", "negativeRateSess", "positiveSess", "colPrevShowSess", "ratingSess", "negativeSess", "meanNumItemHist", "actionHist", "highRateHist", "actionRateHist", "numItemHist", "wishlistRateHist", "hoverRateHist", "hoverHist", "numFrontShowHist", "wishlistHist", "positiveRateHist", "numReviewHist", "lengthHist", "lowRateRateHist", "negativeHist", "clickRateHist", "stopHist", "positiveHist",
        "highRateRateHist", "invReviewDistHist", "stopRateHist", "ratingHist", "lowRateHist", "ratingRateHist", "negativeRateHist", "numShowHist", "clickHist", "numExploreShowHist", "sizePrev", "dwellPrev", "colPrev", "rowPrev", "hoverItem", "popularityItem", "releaseYearItem",
      ]
      features = [
        "hoverItem", "popularityItem", "releaseYearItem", "rowPage", "colPage", "dwellPage", "closestColPage",
        "closestInvDistPage", "positiveRatePage", "negativeRatePage",
        "ratingRatePage", "lowRateRatePage", "clickRatePage", "stopRatePage",
        "numReviewSess", "numFrontShowSess", "negativeRateSess", "lowRateRateSess",
        "stopRateSess", "lengthHist", "numShowHist", "negativeRateHist",
        "wishlistRateHist", "ratingRateHist", "highRateRateHist", "lowRateRateHist",
        "stopRateHist",
        "closestSimPage", "meanSimPage", "minSimPage", "maxSimPage", "medianSimPage",
        #"stateBeforePage", "stateAfterPage",
        "predDisplayBeforePage", "predDisplayMeanBeforePage", "predDisplayMinBeforePage", "predDisplayMaxBeforePage", "predDisplayMedianBeforePage",
        "predRateBeforePage", "predRateMeanBeforePage", "predRateMinBeforePage", "predRateMaxBeforePage", "predRateMedianBeforePage",
        "predWishlistBeforePage", "predWishlistMeanBeforePage", "predWishlistMinBeforePage", "predWishlistMaxBeforePage", "predWishlistMedianBeforePage",
        "predClickBeforePage", "predClickMeanBeforePage", "predClickMinBeforePage", "predClickMaxBeforePage", "predClickMedianBeforePage",
        "predRatingBeforePage", "predRatingMeanBeforePage", "predRatingMinBeforePage", "predRatingMaxBeforePage", "predRatingMedianBeforePage",
        "predDisplayAfterPage", "predDisplayMeanAfterPage", "predDisplayMinAfterPage", "predDisplayMaxAfterPage", "predDisplayMedianAfterPage",
        "predRateAfterPage", "predRateMeanAfterPage", "predRateMinAfterPage", "predRateMaxAfterPage", "predRateMedianAfterPage",
        "predWishlistAfterPage", "predWishlistMeanAfterPage", "predWishlistMinAfterPage", "predWishlistMaxAfterPage", "predWishlistMedianAfterPage",
        "predClickAfterPage", "predClickMeanAfterPage", "predClickMinAfterPage", "predClickMaxAfterPage", "predClickMedianAfterPage",
        "predRatingAfterPage", "predRatingMeanAfterPage", "predRatingMinAfterPage", "predRatingMaxAfterPage", "predRatingMedianAfterPage",
      ]
      manualFeatures = [
        "hoverItem", "popularityItem", "rowPage", "colPage", "dwellPage", "closestRowPage", "closestColPage", "predRateBeforePage", "predClickBeforePage", "predWishlistBeforePage", "medianSimPage", "predRatingBeforePage", "predRatingMedianBeforePage", "numShowSess", "numShowHist",
      ]
      newFeatures = [
        "closestSimPage", "meanSimPage", "minSimPage", "maxSimPage", "medianSimPage",
        "stateBeforePage", "stateAfterPage",
        "predDisplayClosestBeforePage", "predRatingClosestBeforePage", "predRateClosestBeforePage", "predClickClosestBeforePage", "predWishlistClosestBeforePage",
        "predDisplayBeforePage", "predDisplayMeanBeforePage", "predDisplayMinBeforePage", "predDisplayMaxBeforePage", "predDisplayMedianBeforePage",
        "predRateBeforePage", "predRateMeanBeforePage", "predRateMinBeforePage", "predRateMaxBeforePage", "predRateMedianBeforePage",
        "predWishlistBeforePage", "predWishlistMeanBeforePage", "predWishlistMinBeforePage", "predWishlistMaxBeforePage", "predWishlistMedianBeforePage",
        "predClickBeforePage", "predClickMeanBeforePage", "predClickMinBeforePage", "predClickMaxBeforePage", "predClickMedianBeforePage",
        "predRatingBeforePage", "predRatingMeanBeforePage", "predRatingMinBeforePage", "predRatingMaxBeforePage", "predRatingMedianBeforePage",
        "predDisplayAfterPage", "predDisplayMeanAfterPage", "predDisplayMinAfterPage", "predDisplayMaxAfterPage", "predDisplayMedianAfterPage",
        "predRateAfterPage", "predRateMeanAfterPage", "predRateMinAfterPage", "predRateMaxAfterPage", "predRateMedianAfterPage",
        "predWishlistAfterPage", "predWishlistMeanAfterPage", "predWishlistMinAfterPage", "predWishlistMaxAfterPage", "predWishlistMedianAfterPage",
        "predClickAfterPage", "predClickMeanAfterPage", "predClickMinAfterPage", "predClickMaxAfterPage", "predClickMedianAfterPage",
        "predRatingAfterPage", "predRatingMeanAfterPage", "predRatingMinAfterPage", "predRatingMaxAfterPage", "predRatingMedianAfterPage",
      ]
      prevCatFeatures = [
        "namePage", "closestActionPage", "movieId", "userId", "namePrev", 
      ]
      prevNumFeatures = [
        "actionPage", "lowRatePage", "colPage", "dwellPage", "ratingPage", "negativeRatePage", "hoverRatePage", "highRatePage", "closestInvDistPage", "wishlistRatePage", "positiveRatePage", "actionRatePage", "closestRowPage", "rowPage", "clickPage", "hoverPage", "sizePage", "clickRatePage", "positivePage", "closestColPage", "wishlistPage", "lowRateRatePage", "stopRatePage", "stopPage", "highRateRatePage", "negativePage", "ratingRatePage", 
        "numFrontShowOutSess", "stopSess", "clickSess", "invReviewDistOutSess", "dwellPrevShowSess", "clickRateSess", "lengthSess", "numShowSess", "stopRateSess", "namePrevShowSess", "highRateRateSess", "numReviewSess", "hoverSess", "lowRateSess", "rowPrevShowSess", "numFrontShowSess", "actionRateSess", "numExploreShowOutSess", "actionSess", "numShowOutSess", "wishlistSess", "invReviewDistSess", "highRateSess", "lowRateRateSess", "numExploreShowSess", "numReviewOutSess", "wishlistRateSess",
        "ratingRateSess", "positiveRateSess", "sizePrevShowSess", "hoverRateSess", "meanNumItemSess", "numItemSess", "negativeRateSess", "positiveSess", "colPrevShowSess", "ratingSess", "negativeSess", "meanNumItemHist", "actionHist", "highRateHist", "actionRateHist", "numItemHist", "wishlistRateHist", "hoverRateHist", "hoverHist", "numFrontShowHist", "wishlistHist", "positiveRateHist", "numReviewHist", "lengthHist", "lowRateRateHist", "negativeHist", "clickRateHist", "stopHist", "positiveHist",
        "highRateRateHist", "invReviewDistHist", "stopRateHist", "ratingHist", "lowRateHist", "ratingRateHist", "negativeRateHist", "numShowHist", "clickHist", "numExploreShowHist", "sizePrev", "dwellPrev", "colPrev", "rowPrev", "hoverItem", "popularityItem", "releaseYearItem",
      ]
      initialSelectedFeatures = [
        "hoverItem", "popularityItem", "releaseYearItem", "rowPage", "colPage", "dwellPage", "closestColPage",
        "closestInvDistPage", "positiveRatePage", "negativeRatePage",
        "ratingRatePage", "lowRateRatePage", "clickRatePage", "stopRatePage",
        "numReviewSess", "numFrontShowSess", "negativeRateSess", "lowRateRateSess",
        "stopRateSess", "lengthHist", "numShowHist", "negativeRateHist",
        "wishlistRateHist", "ratingRateHist", "highRateRateHist", "lowRateRateHist",
        "stopRateHist",
      ]
      numTrees = 20
      methodConfig {
        objective = "multi:softprob"
        #eval_metric = "mlogloss"
        eval_metric = "merror"
        num_class = 7
        verbose = false
        silent = 1
        max_depth = 3
        tree_method = "exact"
        alpha = 5.0
      }
    }, {
      name = "inactionRatingMFPredictor"
      configClass = "org.grouplens.samantha.server.predictor.SVDFeaturePredictorConfig"
      modelName = "inactionRatingMFPredictorModel"
      modelFile = ${samantha.modelDir}"/inactionRatingMFPredictorModel.bin"
      labelName = "rating"
      weightName = "weight"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "daoConfig"
      featurizer {
        featureExtractorList = [
          {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "BIASES"
            attrName = "userId"
            feaName = "userBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "BIASES"
            feaName = "movieBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "FACTORS"
            attrName = "userId"
            feaName = "userFactor"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "FACTORS"
            feaName = "movieFactor"
          }
        ]
      }
      objectiveConfig {
        objectiveClass = "org.grouplens.samantha.server.objective.L2NormLossConfig"
      }
      onlineOptimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.StochasticGradientDescentConfig"
        maxIter = 1
        learningRate = 0.01
      }
      optimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.AsyncParallelSGDConfig"
        maxIter = 20
        learningRate = 0.01
        cachePath = ${samantha.dataDir}
        numProcessors = 4
      }
      factDim = 32
      biasFeas = ["globalBias", "userBias", "movieBias"]
      ufactFeas = ["userFactor"]
      ifactFeas = ["movieFactor"]
    }, {
      name = "inactionRatingMFPredictorWithInaction"
      configClass = "org.grouplens.samantha.server.predictor.SVDFeaturePredictorConfig"
      modelName = "inactionRatingMFPredictorWithInactionModel"
      modelFile = ${samantha.modelDir}"/inactionRatingMFPredictorWithInactionModel.bin"
      labelName = "rating"
      weightName = "weight"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "daoConfig"
      featurizer {
        featureExtractorList = [
          {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "BIASES"
            attrName = "userId"
            feaName = "userBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "BIASES"
            feaName = "movieBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.SeparatedValueExtractorConfig"
            indexName = "BIASES"
            attrName = "inactionClass"
            feaName = "inactionBias"
            separator = ","
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "FACTORS"
            attrName = "userId"
            feaName = "userFactor"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "FACTORS"
            feaName = "movieFactor"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.SeparatedValueExtractorConfig"
            indexName = "FACTORS"
            attrName = "inactionClass"
            feaName = "inactionFactor"
            separator = ","
          }
        ]
      }
      objectiveConfig {
        objectiveClass = "org.grouplens.samantha.server.objective.L2NormLossConfig"
      }
      onlineOptimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.StochasticGradientDescentConfig"
        maxIter = 1
        learningRate = 0.01
      }
      optimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.AsyncParallelSGDConfig"
        maxIter = 20
        learningRate = 0.01
        cachePath = ${samantha.dataDir}
        numProcessors = 4
      }
      factDim = 32
      biasFeas = ["globalBias", "userBias", "movieBias", "inactionBias"]
      ufactFeas = ["userFactor", "inactionFactor"]
      ifactFeas = ["movieFactor", "inactionFactor"]
    }, {
      name = "inactionPositiveMFPredictor"
      configClass = "org.grouplens.samantha.server.predictor.SVDFeaturePredictorConfig"
      modelName = "inactionPositiveMFPredictorModel"
      modelFile = ${samantha.modelDir}"/inactionPositiveMFPredictorModel.bin"
      labelName = "positive"
      weightName = "weight"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "daoConfig"
      featurizer {
        featureExtractorList = [
          {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "BIASES"
            attrName = "userId"
            feaName = "userBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "BIASES"
            feaName = "movieBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "FACTORS"
            attrName = "userId"
            feaName = "userFactor"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "FACTORS"
            feaName = "movieFactor"
          }
        ]
      }
      objectiveConfig {
        objectiveClass = "org.grouplens.samantha.server.objective.LogisticLossConfig"
      }
      onlineOptimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.StochasticGradientDescentConfig"
        maxIter = 1
        learningRate = 0.01
      }
      optimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.AsyncParallelSGDConfig"
        maxIter = 20
        learningRate = 0.01
        cachePath = ${samantha.dataDir}
        numProcessors = 4
      }
      factDim = 32
      biasFeas = ["globalBias", "userBias", "movieBias"]
      ufactFeas = ["userFactor"]
      ifactFeas = ["movieFactor"]
    }, {
      name = "inactionPositiveMFPredictorWithInaction"
      configClass = "org.grouplens.samantha.server.predictor.SVDFeaturePredictorConfig"
      modelName = "inactionPositiveMFPredictorWithInactionModel"
      modelFile = ${samantha.modelDir}"/inactionPositiveMFPredictorWithInactionModel.bin"
      labelName = "positive"
      weightName = "weight"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "daoConfig"
      featurizer {
        featureExtractorList = [
          {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "BIASES"
            attrName = "userId"
            feaName = "userBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "BIASES"
            feaName = "movieBias"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.SeparatedValueExtractorConfig"
            indexName = "BIASES"
            attrName = "inactionClass"
            feaName = "inactionBias"
            separator = ","
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "FACTORS"
            attrName = "userId"
            feaName = "userFactor"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            attrName = "movieId"
            indexName = "FACTORS"
            feaName = "movieFactor"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.SeparatedValueExtractorConfig"
            indexName = "FACTORS"
            attrName = "inactionClass"
            feaName = "inactionFactor"
            separator = ","
          }
        ]
      }
      objectiveConfig {
        objectiveClass = "org.grouplens.samantha.server.objective.LogisticLossConfig"
      }
      onlineOptimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.StochasticGradientDescentConfig"
        maxIter = 1
        learningRate = 0.01
      }
      optimizationMethod {
        methodClass = "org.grouplens.samantha.server.solver.AsyncParallelSGDConfig"
        maxIter = 20
        learningRate = 0.01
        cachePath = ${samantha.dataDir}
        numProcessors = 4
      }
      factDim = 32
      biasFeas = ["globalBias", "userBias", "movieBias", "inactionBias"]
      ufactFeas = ["userFactor", "inactionFactor"]
      ifactFeas = ["movieFactor", "inactionFactor"]
    }, {
      name = "tensorFlowInteractionPredictor"
      configClass = "org.grouplens.samantha.server.tensorflow.TensorFlowPredictorConfig"
      modelName = "tensorFlowInteractionPredictorModel"
      modelFile = ${samantha.modelDir}"/tensorFlowInteractionPredictorModel.bin"
      modelExportDir = ${samantha.modelDir}"/inaction_tensorflow_interaction.model"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "daoConfig"
      evaluatorNames = []
      updateOper = "update_op"
      lossOper = "metrics/train_loss_op"
      initOper = "init_op"
      outputOper = "prediction/item_pred_op"
      topKOper = "prediction/item_top_k_op"
      topKId = "topKId"
      topKValue = "topKValue"
      itemIndex = "MOVIE_ID"
      indexKeys = [
        "USER_ID", "MOVIE_ID", "TSTAMP", "SEQ_LEN",
        "RATE", "WISHLIST", "CLICK", "RATING",
        "DIS_ACT",
      ]
      equalSizeChecks = [
        {
          "featuresWithEqualSizes": ["display", "rate", "wishlist", "click", "rating", "tstamp"]
        }, {
          "featuresWithEqualSizes": ["disact", "tstamp"]
        }, {
          "featuresWithEqualSizes": ["user", "sequence_length"]
        }
      ]
      featurizer {
        featureExtractorList = [
          {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.StringValueExtractorConfig"
            indexName = "USER_ID"
            attrName = "userId"
            feaName = "user"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.DisplayActionGroupExtractorConfig"
            index = "MOVIE_ID"
            sizeFeaIndex = "SEQ_LEN"
            attr = "movieId"
            inGrpRank = "rank"
            fea = "display"
            sizeFea = "sequence_length"
            extractBools = [false, false, false]
            actionIndices = ["CLICK", "WISHLIST", "RATE"]
            actionAttrs = ["click", "wishlist", "rating"]
            actionFeas = ["click", "wishlist", "rate"]
            displayActionIndex = "DIS_ACT"
            displayActionFea = "disact"
            separator = ","
            normalize = false
            grpSize = 24
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.SeparatedIdentityGroupExtractorConfig"
            indexName = "RATING"
            attrName = "rating"
            feaName = "rating"
            separator = ","
            grpSize = 24
            normalize = false
            inGrpRankName = "rank"
          }, {
            extractorConfigClass = "org.grouplens.samantha.server.featurizer.SeparatedIdentityGroupExtractorConfig"
            indexName = "TSTAMP"
            attrName = "tstamp"
            feaName = "tstamp"
            separator = ","
            grpSize = 24
            normalize = false
            inGrpRankName = "rank"
          }
        ]
      }
      feedFeas = [
        "user_idx", "sequence_length_val", "disact_idx", "tstamp_val",
        "display_idx", "click_idx", "wishlist_idx", "rate_idx", "rating_val",
      ]
      onlineMethodConfig {
        methodClass = "org.grouplens.samantha.server.solver.TensorFlowMethodConfig"
        numProcessors = 2
      }
      methodConfig {
        methodClass = "org.grouplens.samantha.server.solver.TensorFlowMethodConfig"
        maxIter = 20
        numProcessors = 2
      }
    }
  ]
  rankers = [
    {
      name = "inactionXGBoostBasedRanker"
      configClass = "org.grouplens.samantha.server.ranker.EntityFieldRankerConfig"
      orderField = "classProb"
    }
  ]
  recommenders = [
    {
      name = "inactionXGBoostBasedRecommender"
      configClass = "org.grouplens.samantha.server.recommender.StandardRecommenderConfig"
      retriever = "inactionXGBoostClassifierRetriever"
      ranker = "inactionXGBoostBasedRanker"
    }
  ]
  router {
    configClass = "org.grouplens.samantha.server.router.BasicRouterConfig"
    recommenderKey = "recommender"
    predictorKey = "predictor"
  }
  evaluators = [
    {
      name = "valuePredictionEvaluator"
      configClass = "org.grouplens.samantha.server.evaluator.PredictionEvaluatorConfig"
      predictionIndexers = []
      indexers = ["loggerBasedIndexer"]
      predictorKey = "predictor"
      groupKeys = ["userId"]
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "evaluatorDaoConfig"
      metrics = [
        {
          metricConfigClass = "org.grouplens.samantha.server.evaluator.metric.MAEConfig"
          labelName = "rating"
        }, {
          metricConfigClass = "org.grouplens.samantha.server.evaluator.metric.RMSEConfig"
          labelName = "rating"
        }
      ]
    }, {
      name = "binaryClassificationEvaluator"
      configClass = "org.grouplens.samantha.server.evaluator.PredictionEvaluatorConfig"
      predictionIndexers = []
      indexers = ["loggerBasedIndexer"]
      predictorKey = "predictor"
      groupKeys = ["userId"]
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "evaluatorDaoConfig"
      metrics = [
        {
          metricConfigClass = "org.grouplens.samantha.server.evaluator.metric.AUCConfig"
          labelName = "positive"
          labelKey = "labelName"
          aucType = "GLOBAL"
        }
      ]
    }, {
      name = "inactionRankingEvaluator"
      configClass = "org.grouplens.samantha.server.evaluator.RecommendationEvaluatorConfig"
      recommendationIndexers = []
      indexers = ["loggerBasedIndexer"]
      recommenderKey = "recommender"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "evaluatorDaoConfig"
      groupKeys = ["userId", "tstamp"]
      metrics = [
        {
          metricConfigClass = "org.grouplens.samantha.server.evaluator.metric.MAPConfig"
          itemKeys = ["inactionSur"]
          recKeys = ["inactionSur"]
          N = [1]
        }
      ]
    }, {
      name = "recommendationEvaluator"
      configClass = "org.grouplens.samantha.server.evaluator.RecommendationEvaluatorConfig"
      recommendationIndexers = []
      indexers = ["loggerBasedIndexer"]
      recommenderKey = "recommender"
      entityDaosConfig = ${samantha.entityDaosConfig}
      daoConfigKey = "evaluatorDaoConfig"
      groupKeys = ["userId"]
      metrics = [
        {
          metricConfigClass = "org.grouplens.samantha.server.evaluator.metric.MAPConfig"
          itemKeys = ["movieIdEval"]
          recKeys = ["movieId"]
          #relevanceKey = "action"
          #threshold = 0.5
          N = [5, 8, 20, 24]
        }
      ]
    }
  ]
  schedulers = []
}
